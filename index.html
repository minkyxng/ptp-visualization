<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <!-- style -->
  <link rel="stylesheet" href=".\css\style.css">
  <link rel="stylesheet" href=".\css\reset.css">
</head>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
<script src="http://d3js.org/d3.v5.min.js"></script>


<body>
  <div>
    <div id="header">
      <img src=".\사진\알티스트 로고.png" alt="">
    </div>
    <div id="content">
      <div id="cont_left">
      </div>

      <div id="cont_center">
        <div id="nodes">
          <p id="nodeletter">
            <b>nodes</b>
          </p>
          <div id="shownodes">
            <div class="nodeframe">
              <input type="checkbox" value="node1">
              <p class="node">
                Node ID 1(Grand Master)
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node2">
              <p class="node">
                Node ID 2
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node3">
              <p class="node">
                Node ID 3
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node4">
              <p class="node">
                Node ID 4
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node5">
              <p class="node">
                Node ID 5
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node6">
              <p class="node">
                Node ID 6
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node7">
              <p class="node">
                Node ID 7
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node8">
              <p class="node">
                Node ID 8
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node9">
              <p class="node">
                Node ID 9
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node10">
              <p class="node">
                Node ID 10
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node11">
              <p class="node">
                Node ID 11
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node12">
              <p class="node">
                Node ID 12
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node13">
              <p class="node">
                Node ID 13
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node14">
              <p class="node">
                Node ID 14
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node15">
              <p class="node">
                Node ID 15
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node16">
              <p class="node">
                Node ID 16
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <div class="nodeframe">
              <input type="checkbox" value="node17">
              <p class="node">
                Node ID 17
              </p>
              <p class="ms">μs</p>
            </div>
            <br><br>
            <!-- </div> -->
          </div>

          <div id="showbutton">
            <button type="button" name="showchart" id="showchart">show chart</button>
          </div>

          <div id="chart">
            <div id="chartletter">
              <b>chart</b>
            </div>
            <div id="showmychart">
            </div>

            <script type="text/javascript">

              // d3.csv("./csv/ptpTime5min_15.csv").then(function (data) {
              //   console.log(data);
              // });
              // console.log(data["Master Offset"]);


              // var offset_js = "{{ offset }}";
              // offset_js = offset_js.replace("[", "");
              // offset_js = offset_js.replace("]", "");
              // var realtime_js = "{{ timestamp }}";
              // realtime_js = realtime_js.replace("[", "");
              // realtime_js = realtime_js.replace("]", "");


              // var arr_offset_js = offset_js.split(',');
              // var arr_int_offset = arr_offset_js.map(function (item) {
              //   return parseInt(item, 10);
              // });

              // var arr_realtime_js = realtime_js.split(',');
              // var arr_int_realtime = arr_realtime_js.map(function (item) {
              //   return parseInt(item, 10);
              // });



              var OFFSET =
                [-275, 274, 52, 430, -612, 830, -980, 126, -132, 8, 346, 598, -781, -103, 253, -555, -50, 405, 57, -167, -232, 250, 208, -375, 362, 236, -320, -323, 1020, -902, -79, -50, -855, -25, -152, -353, 336, 1113, 214, -308, -6456, 6461, 1693, -46, -1423, -86, -778, -460, 281, 1056, 32, -597, 275, 55, -899, -100, 440, -531, 57, 379, 96, 286, 71, -48, 193, 320, 167, -884, -265, 543, -410, 255, 128, -487, 44, 380, 1021, -1168, -344, 425, -80, 950, 361, -1506, 650, -329, 135, -756, 625, -311, 1077, -1033, 899, -568, -92, -6893, 7292, 2514, 348, -1748, -648, -296, -279, 726, -17, -254, -1090, 20, 51, 122, 1206, -553, -389, 94, 14, -110, 134, -208, 148, -106, 987, -480, 412, -930, -172, -19, 231, 189, 443, -65, -633, -313, -300, 859, -133, 652, -783, 770, -583, 46, -39, 190, -828, -18, 1369, 116, -366, -329, 419, -426, -152, 205, -402, 794, -700, -133, 718, -758, 420, 305, -25, -215, -113, 1123, -1223, -423, 44, -147, 985, -694, 323, 151, -82, -377, 498, -6205, 6356, 1465, -813, 378, -1597, 462, -470, -380, -216, 855, 6, -410, -168, 12, 575, 820, -509, -907, -125, 216, 41, -48, 590, -128, -383, 343, 270, -711, 654, -923, 540, -461, -326, 392, 116, -1, -5897, 6400, 1832, -472, -953, -269, -39, -716, -600, 394, 304, -381, -82, -194, 971, -812, -100, 83, 556, 114, -798, -319, 629, -237, -16, 104, 205, 51, 214, -66, 567, -226, 638, -464, -872, -243, 325, -52, 847, -294, -799, 26, 247, 1019, -4, -747, -42, -140, -35, 47, 235, -95, 125, 1363, -964, -249, 113, -504, 674, 1022, -911, -525, -366, 110, 161, 538, -14, 413, -950, 234, -166, 427, 556, -774, -374, -37, 856, -22, -1268, 1154, -330, -114, 735, 157, -1112, -266, 597, -153, 347, -261, 46, 169, 759, -85, -595, -588, 492, 320, 480, -1055, -295, 219, -369, 619, 464, 123, 136, 66, -409, -257, -33, 167, 336, 200, -252, 138, -263, 259, 519, -615, -341, -347, -263, 894, -493, -7025, 7834, 1762, -949, -519, -424, 735, -760, -495, 357, -445, 721, -1019, 497, -404, -50, 146, 224, -70, 453, 393, -929, 145, 422, -349, 97, -256, 545, -405, 84, -129, 357, -508, -203, 614, -394, -460, 275, 987, -298, -30, 179, 446, -1127, 299, -133, -318, 153, 757, -430, -424, 229, 637, -379, -372, -518, 385, -23, 372, 686, -512, 31, -251, 395, 288, -67, -287, -56, 1, -6796, 6509, 1919, 341, -544, 14, -738, -912, -251, 222, 33, -402, 303, 12, -410, -15, 131, -9, 704, 441, -564, -169, -104, 778, -7204, 6583, 2676, -866, -6974, 6661, 655, -36, -764, -933, -148, -764, 486, -83, 140, 125, -288, 127, 9, -133, 225, -27, -16, 366, -124, -770, 861, -367];
              var OFFSET2 =
                [679, 1537, 900, -714, 332, -221, -124, 500, -198, -165, 117, 1116, -549, -370, -295, -6155, 6124, 2113, 361, -550, -832, -1114, 443, -891, 283, 898, -817, -116, 545, 520, -711, 530, -207, 50, 20, 183, -135, -90, 1004, 65, -114, -455, -841, 110, -43, 736, 217, -1104, 214, -764, 128, 415, 1075, -514, -91, -7002, 7231, 2150, -164, -1259, -444, 184, 33, -487, -48, -559, 919, -839, -54, 576, 418, 72, -382, -58, -74, 715, -784, 105, 89, -191, -96, 230, 1013, -1264, 17, 194, -692, 663, -848, 943, -572, -18, 148, -158, 880, -343, -12, -381, 29, 185, -205, 1274, -685, 78, -111, -748, 126, -347, 2, 455, 249, -379, 1272, -575, 107, -556, -113, -327, 385, 346, -291, -1, 1264, -38, -992, -288, 163, -309, 735, -521, -28, 257, 361, -252, 136, 450, -812, 303, 12, -165, 25, 145, 316, -510, 21, -84, 278, 189, 347, -970, 130, 604, -839, 192, -86, 618, -860, 56, 278, 1277, -848, -477, -242, 1005, -655, 197, -464, 293, -335, 1158, -855, 600, -417, 344, -226, 36, 185, -362, 84, 593, -667, -523, 313, -219, 867, -377, -195, 336, 60, 535, 17, -625, -537, 559, -808, 286, -2, 1115, -732, 105, -488, 35, -495, 609, 880, -52, -440, 580, -626, 300, 474, -978, 697, -56, -837, -74, 513, 62, 54, -399, -217, 1129, -291, -361, -92, -176, -6, -274, 185, 780, 298, -1052, -218, 396, 1016, -523, -606, -147, 1062, -873, 185, 827, -711, 489, -1234, 382, -486, 118, 160, 339, 765, -20, -522, 198, -125, -502, 170, 307, -542, 266, 658, -118, -1123, 969, 159, -297, -315, -88, 1353, -445, -787, 467, -668, 292, -478, -174, 1093, -240, -148, -923, 632, -10, -242, 401, 374, -28, 155, 118, -124, -416, 277, 88, 962, -504, -1029, -140, 441, 544, -149, -550, -24, -137, 680, -116, -562, 463, -169, -502, -527, 1445, -438, 97, -168, 233, 192, 35, 203, 346, -518, 23, 279, -43, -167, -1170, 355, -6570, 6916, 2262, 44, -901, 124, -901, -474, 6, -421, -226, 1190, 153, -527, -577, -201, 193, 130, 169, -311, 971, -336, -535, -6209, 6736, 1246, -126, -440, -933, -480, 511, -630, 296, 57, -159, 782, -670, -139, 874, 129, -642, -37, -87, -83, 590, -457, -115, 458, -226, -827, 220, 56, -116, 1061, -43, -761, 1013, -927, 657, -411, -20, -422, 476, 50, 187, 126, 118, 363, -157, 12, -259, -6826, 6715, 1826, -175, -938, -154, -655, 76, 467, -699, 341, -221, -363, -302, 586, -269, 215, 125, 604, 437, -1294, 306, -167, 328, -329, -228, 477, 233, -715, 659, -496, 166, -280, 1330, -118, -465, -59, -951, 101, 354, -51, 200, -350, 317, 414, -205, -176, 255, -219, 208, -733, 427, -602, -88, 625, -348, 1026, 52, -1034, 673, -287, -435];


              Highcharts.chart('showmychart', {

                // tooltip: {
                //   formatter: function () {

                //     return 'Time : <b>' + this.x + '/s </b>' + ' Offset : <b>' + this.y + '</b>';
                //   },
                //   padding: 17,
                // },

                title: {
                  text: 'PTP: Synchronization time graph',
                  align: 'center'
                },

                yAxis: {
                  title: {
                    text: 'Offset From Master'
                  },
                  tickAmount: 10,
                  labels: {
                    format: '{value} μs'
                  },
                },

                xAxis: {
                  accessibility: {
                    rangeDescription: 'Time : 0 - 5min'
                  }
                },

                legend: {
                  layout: 'vertical',
                  align: 'right',
                  verticalAlign: 'middle'
                },

                plotOptions: {
                  series: {
                    label: {
                      connectorAllowed: false
                    },
                    pointStart: 1
                  }
                },

                series: [
                  {
                    name: 'Node2 Offset',
                    data: OFFSET,
                  },
                  {
                    name: 'Node3 Offset',
                    data: OFFSET2,
                  }
                ],

                responsive: {
                  rules: [{
                    condition: {
                      maxWidth: 2000
                    },
                    chartOptions: {
                      legend: {
                        layout: 'horizontal',
                        align: 'center',
                        verticalAlign: 'bottom'
                      }
                    }
                  }]
                }

              });


            </script>
          </div>

        </div>

      </div>

      <!-- <div id="cont_right">
      </div> -->
    </div>
  </div>

</body>

</html>
